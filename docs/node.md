---
sidebarDepth: 2
---

# NodeJS

<!--
```sh
ğŸŸğŸ¤¹â€ğŸ¤¹â€ğŸ­ğŸ¬ğŸ¼ğŸ¥ğŸ¸ğŸš—ğŸšŒğŸšâœˆï¸ğŸš€â›µï¸ğŸš¤ğŸ›¥ğŸ›³â›´â›½ï¸ğŸš¦ğŸš¥ğŸš§ğŸšğŸ—½ğŸ—¼ğŸ°ğŸ 
â›±ğŸ–ğŸğŸœğŸŒ‹ğŸ‚ğŸ‹ï¸â€ğŸ¤¸ğŸ»â€ğŸ¤¸ğŸ¼â€â›¹ï¸â€â›¹ï¸â€ğŸ¤ºğŸ„â€ğŸ—ğŸ›ğŸğŸŠğŸ‰ğŸ€ğŸ›ğŸ“¦ğŸğŸ“¯ğŸ“„ğŸ—ğŸ”ˆğŸ“£
â›ºï¸ğŸ—»ğŸ—»ğŸ”â›°ğŸ¤ğŸ¥ğŸŒ†ğŸŒâ˜ï¸ğŸ¥â°ğŸ›¢âš’â›ğŸ’ğŸ’°ğŸ’¡âŒ›ï¸ğŸ’£ğŸ”ªâš™ï¸ğŸ’‰ğŸŒ¡ğŸ›ğŸ›€ğŸ¿ğŸ”‘
ğŸ„â€ğŸŠâ€ğŸŠâ€ğŸš£â€ğŸ†ğŸš´â€ğŸ¥‡ğŸ¥ˆğŸ¥‰ğŸ…ğŸ–ğŸ—ğŸµğŸ«ğŸŒŠğŸğŸ‹ğŸ“ğŸ‡ğŸ‰ğŸ…ğŸ†ğŸ¥ğŸŒ½ğŸ–ğŸ—
ğŸ´ğŸŒğŸğŸ‹ğŸ¬ğŸ…ğŸ†ğŸ³ğŸªğŸ˜ğŸğŸ•ŠğŸ‡ğŸ“ğŸ¦ŒğŸğŸ¿ğŸ‰ğŸ²ğŸŒ¸ğŸŒ¼ğŸŒ»ğŸŒğŸŒğŸ„ğŸŒ¾
ğŸ¥ğŸ¦ğŸ­ğŸ‚ğŸ­ğŸ¿ğŸ©ğŸªğŸŒ°ğŸ¥œğŸºğŸ»â˜•ï¸ğŸ¶ğŸ·ğŸ¥‚ğŸ¥ƒğŸ¹ğŸ¾ğŸˆğŸ€ğŸ¥Šâ›³ï¸ğŸ¥‹ğŸ‹ğŸŒ±
ğŸ”•ğŸ””ğŸ”ŠğŸ—¯ğŸ’­ğŸ‡¨ğŸ‡³ğŸâ­ï¸âœ¨ğŸŒˆğŸŒšâ˜„ï¸ğŸ’¥ğŸ”¥â˜€ï¸ğŸŒ¤â›…ï¸ğŸŒ¥â˜ï¸ğŸŒ¦ğŸŒ§â›ˆğŸŒ©ğŸŒ¨â„ï¸â›²ï¸
ğŸ±ğŸ›
``` -->

![Alt text](../assets/browser/41.png)

## 1. Node ç®€è¿°

### 1.1 Apache çš„å¤šçº¿ç¨‹é«˜å¹¶å‘æ¨¡å¼

```md
ä¼˜ç‚¹ï¼šæ”¯æŒå¤šçº¿ç¨‹å¹¶å‘

ç¼ºç‚¹ï¼šé˜»å¡
```

### 1.2 ä»€ä¹ˆæ˜¯çº¿ç¨‹

```md
çº¿ç¨‹æ˜¯å¯ä»¥ç‹¬ç«‹è¿è¡Œçš„æœ€å°çš„ CPU å•ä½ï¼Œå¯ä»¥åœ¨åŒä¸€ä¸ªè¿›ç¨‹é‡Œå¹¶å‘è¿è¡Œï¼Œå…±äº«è¯¥è¿›ç¨‹ä¸‹çš„å†…å­˜åœ°å€ç©ºé—´ã€‚

å½“ä¸åŒçš„çº¿ç¨‹éœ€è¦å ç”¨åŒä¸€ä¸ªå˜é‡æ—¶ï¼Œæ ¹æ®å…ˆåˆ°å…ˆå¾—çš„åŸåˆ™ï¼Œå…ˆåˆ°çš„çº¿ç¨‹åœ¨è¿ä½œæ—¶ï¼Œ
åæ¥çš„çº¿ç¨‹åªèƒ½åœ¨æ—è¾¹ç­‰å¾…ï¼Œä¹Ÿå°±æ˜¯åŠ å…¥åˆ°äº†é˜»å¡æ’é˜Ÿåºåˆ—ã€‚å°±é€ æˆäº†çº¿ç¨‹é˜»å¡ã€‚
```

ç±»ä¼¼åœºæ™¯ï¼šé“¶è¡ŒæŸœå°åŠç†ä¸šåŠ¡

### 1.3 NodeJS çš„å¼‚æ­¥ I/O åŸç†

```md
ä¼˜ç‚¹ï¼šé«˜å¹¶å‘ï¼ˆæœ€é‡è¦çš„ä¼˜ç‚¹ï¼‰ã€é€‚åˆ I/O å¯†é›†å‹åº”ç”¨

ç¼ºç‚¹ï¼š

1. ä¸é€‚åˆ CPU å¯†é›†å‹åº”ç”¨ï¼ˆCPU å¯†é›†å‹åº”ç”¨ç»™ Node å¸¦æ¥çš„æŒ‘æˆ˜ä¸»è¦æ˜¯ï¼š
   ç”±äº JavaScript å•çº¿ç¨‹çš„åŸå› ï¼Œå¦‚æœæœ‰é•¿æ—¶é—´è¿è¡Œçš„è®¡ç®—ï¼ˆæ¯”å¦‚å¤§å¾ªç¯ï¼‰
   å°†ä¼šå¯¼è‡´ CPU æ—¶é—´ç‰‡ä¸èƒ½é‡Šæ”¾ï¼Œä½¿å¾—åç»­ I/O æ— æ³•å‘èµ·ï¼‰
2. åªæ”¯æŒå•æ ¸ CPUï¼Œä¸èƒ½å……åˆ†åˆ©ç”¨ CPU
3. å¯é æ€§ä½ï¼Œä¸€æ—¦ä»£ç æŸä¸ªç¯èŠ‚å´©æºƒï¼Œæ•´ä¸ªç³»ç»Ÿéƒ½å´©æºƒ

- åŸå› ï¼šå•è¿›ç¨‹ã€å•çº¿ç¨‹
- è§£å†³æ–¹æ¡ˆï¼š

ï¼ˆ1ï¼‰Nnigx åå‘ä»£ç†ï¼Œè´Ÿè½½å‡è¡¡ï¼Œå¼€å¤šä¸ªè¿›ç¨‹ï¼Œç»‘å®šå¤šä¸ªç«¯å£ï¼›
ï¼ˆ2ï¼‰å¼€å¤šä¸ªè¿›ç¨‹ç›‘å¬åŒä¸€ä¸ªç«¯å£ï¼Œä½¿ç”¨ cluster æ¨¡å—
ï¼ˆ3ï¼‰çº¿ä¸Šä½¿ç”¨ PM2 ç®¡ç†è¿›ç¨‹ï¼Œå‡ºç°é—®é¢˜è‡ªåŠ¨é‡å¯é¡¹ç›®

4. Debug ä¸æ–¹ä¾¿ï¼Œé”™è¯¯æ²¡æœ‰ stack trace

NodeJS åŸºäºäº‹ä»¶å¾ªç¯ï¼Œæ¯ä¸€æ¡ NodeJS çš„é€»è¾‘å†™åœ¨å›è°ƒå‡½æ•°é‡Œé¢ï¼Œ
å›è°ƒå‡½æ•°åœ¨è¿”å›ä¹‹åå¼‚æ­¥æ‰§è¡Œã€‚

NodeJS ä¸æ˜¯æ²¡æœ‰é˜»å¡ï¼Œè€Œæ˜¯é˜»å¡ä¸å‘ç”Ÿåœ¨åç»­å›è°ƒçš„æµç¨‹ï¼Œ
è€Œä¼šå‘ç”Ÿåœ¨ NodeJS æœ¬èº«å¯¹é€»è¾‘çš„è®¡ç®—å’Œå¤„ç†ã€‚

NodeJS å®ƒçš„æ‰€æœ‰ I/Oã€ç½‘ç»œé€šä¿¡ç­‰æ¯”è¾ƒè€—æ—¶çš„æ“ä½œï¼Œ
éƒ½å¯ä»¥äº¤ç»™ worker threads æ‰§è¡Œå†å›è°ƒï¼Œæ‰€ä»¥å¾ˆå¿«ã€‚
ä½† CPU çš„æ­£å¸¸æ“ä½œï¼Œå®ƒåªèƒ½è‡ªå·±æ“ä½œã€‚
```

> ç±»ä¼¼åœºæ™¯ï¼šæ’é˜Ÿç‚¹é¤åå«å·å–é¤ã€‚

### 1.4 NodeJS çš„åº”ç”¨åœºæ™¯

```md
NodeJS å¤„ç†å¹¶å‘çš„èƒ½åŠ›å¼ºï¼Œä½†å¤„ç†è®¡ç®—å’Œé€»è¾‘çš„èƒ½åŠ›åè€Œå¾ˆå¼±ã€‚

å› æ­¤ï¼Œæˆ‘ä»¬æŠŠå¤æ‚çš„é€»è¾‘è¿ç®—æ¬åˆ°å‰ç«¯ï¼ˆå®¢æˆ·ç«¯ï¼‰å®Œæˆï¼Œè€Œ NodeJS åªéœ€è¦æä¾›å¼‚æ­¥ I/Oï¼Œ
è¿™æ ·å°±å¯ä»¥å®ç°å¯¹é«˜å¹¶å‘çš„é«˜æ€§èƒ½å¤„ç†ã€‚
```

### 1.5 RESTful API

```md
è¿™æ˜¯ NodeJS æœ€ç†æƒ³çš„åº”ç”¨åœºæ™¯ï¼Œå¯ä»¥å¤„ç†æ•°ä¸‡æ¡è¿æ¥ï¼Œæœ¬èº«æ²¡æœ‰å¤ªå¤šçš„é€»è¾‘ï¼Œ
åªéœ€è¦è¯·æ±‚ APIï¼Œç»„ç»‡æ•°æ®è¿›è¡Œè¿”å›å³å¯ã€‚

å®ƒæœ¬è´¨ä¸Šåªæ˜¯ä»æŸä¸ªæ•°æ®åº“ä¸­æŸ¥æ‰¾ä¸€äº›å€¼å¹¶å°†å®ƒä»¬ç»„æˆä¸€ä¸ªå“åº”ã€‚

ç”±äºå“åº”æ˜¯å°‘é‡æ–‡æœ¬ï¼Œå…¥ç«™è¯·æ±‚ä¹Ÿæ˜¯å°‘é‡çš„æ–‡æœ¬ï¼Œå› æ­¤æµé‡ä¸é«˜ï¼Œ
ä¸€å°æœºå™¨ç”šè‡³ä¹Ÿå¯ä»¥å¤„ç†æœ€ç¹å¿™çš„å…¬å¸çš„ API éœ€æ±‚ã€‚
```

### 1.6 å¤§é‡ Ajax

```md
å®æ—¶èŠå¤©ã€å®¢æˆ·ç«¯é€»è¾‘å¼ºå¤§çš„å•é¡µ APPï¼Œ
å…·ä½“çš„ä¾‹å­æ¯”å¦‚è¯´ï¼š
æœ¬åœ°åŒ–çš„åœ¨çº¿éŸ³ä¹åº”ç”¨ï¼Œæœ¬åœ°åŒ–çš„åœ¨çº¿æœç´¢åº”ç”¨ï¼Œæœ¬åœ°åŒ–çš„åœ¨çº¿ APP ç­‰ã€‚
```

### 1.7 Apache é€‚ç”¨åœºæ™¯

```md
Apache ç”±äºå…¶å¤šçº¿ç¨‹é«˜å¹¶å‘å…±äº«å†…å­˜åœ°å€ç©ºé—´çš„ç‰¹æ€§ï¼Œ
é‚£å°±æ„å‘³ç€å¦‚æœæœåŠ¡å™¨è¶³å¤Ÿå¼ºå¤§ï¼Œå¤„ç†å™¨è¶³å¤Ÿé«˜æ ¸ï¼Œ
Apache çš„è¿ä½œå°†ä¼šéå¸¸è‰¯å¥½ï¼Œ
æ‰€ä»¥é€‚ç”¨äºï¼ˆå¹¶å‘ï¼‰å¼‚æ­¥å¤„ç†ç›¸å¯¹è¾ƒå°‘ï¼Œåå°è®¡ç®—é‡å¤§ï¼Œåå°ä¸šåŠ¡é€»è¾‘å¤æ‚çš„åº”ç”¨ç¨‹åºã€‚
```

> [éåŸåˆ›åŸæ–‡é“¾æ¥](alloween.top)
